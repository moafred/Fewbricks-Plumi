@import 'tailwindcss';

/* Belle Allure GS — Écriture cursive scolaire française (CE1)
   Source : jeanboyault.fr — Gratuite pour usage éducatif */
@font-face {
  font-family: 'Belle Allure GS';
  src: url('./fonts/BelleAllureGS-Regular.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@theme {
  /* Couleurs — Palette Laputa (Château dans le Ciel) — thème clair */

  /* Bleu ciel — marque, navigation, titres */
  --color-sky-50: #f0f6fe;
  --color-sky-100: #ddeafc;
  --color-sky-200: #c3dbfa;
  --color-sky-300: #9ac4f6;
  --color-sky-400: #8fb1e9;
  --color-sky-500: #5a8fd4;
  --color-sky-600: #4573b8;
  --color-sky-700: #3a5f9a;
  --color-sky-800: #2e4d7d;
  --color-sky-900: #283f66;
  --color-sky-950: #1a2940;

  /* Or chaud — récompenses, étoiles, CTA */
  --color-gold-50: #fdf9ef;
  --color-gold-100: #faf0d5;
  --color-gold-200: #f4e0a8;
  --color-gold-300: #e3c16f;
  --color-gold-400: #d4a64a;
  --color-gold-500: #c08d2f;
  --color-gold-600: #a67224;
  --color-gold-700: #8e5e0e;
  --color-gold-800: #724b14;
  --color-gold-900: #5e3d16;
  --color-gold-950: #362009;

  /* Vert sauge — succès, bonne réponse */
  --color-meadow-50: #f0faf5;
  --color-meadow-100: #d6f3e5;
  --color-meadow-200: #afe7cc;
  --color-meadow-300: #85deb2;
  --color-meadow-400: #4fc48e;
  --color-meadow-500: #2da872;
  --color-meadow-600: #1f8a5c;
  --color-meadow-700: #1a6e4b;
  --color-meadow-800: #18583d;
  --color-meadow-900: #154833;
  --color-meadow-950: #0a281c;

  /* Terracotta — erreur douce, encouragement */
  --color-coral-50: #fef3f1;
  --color-coral-100: #fee4df;
  --color-coral-200: #fecdc5;
  --color-coral-300: #f5a898;
  --color-coral-400: #e07761;
  --color-coral-500: #c95d45;
  --color-coral-600: #b44934;
  --color-coral-700: #963b2a;
  --color-coral-800: #7c3326;
  --color-coral-900: #672f25;
  --color-coral-950: #38150f;

  /* Vert forêt / mousse — grammaire, accords */
  --color-moss-50: #f4f7ef;
  --color-moss-100: #e5ecda;
  --color-moss-200: #cddab9;
  --color-moss-300: #aec28e;
  --color-moss-400: #8daa68;
  --color-moss-500: #6a8252;
  --color-moss-600: #546a3f;
  --color-moss-700: #425234;
  --color-moss-800: #37432d;
  --color-moss-900: #303a28;
  --color-moss-950: #181f13;

  /* Gris-pierre — texte, structure, fond */
  --color-stone-50: #f7f8f9;
  --color-stone-100: #edeef1;
  --color-stone-200: #d8dbe0;
  --color-stone-300: #b6bbc5;
  --color-stone-400: #8e95a4;
  --color-stone-500: #636c7e;
  --color-stone-600: #525968;
  --color-stone-700: #444956;
  --color-stone-800: #3b3f49;
  --color-stone-900: #343740;
  --color-stone-950: #22242a;

  /* Fonts — 2 typos max : Lexend (UI) + Belle Allure GS (pédago) */
  --font-sans: 'Lexend', system-ui, sans-serif;
  --font-learning: 'Belle Allure GS', 'Arial', cursive;

  /* Animations */
  --animate-float: float 3s ease-in-out infinite;
  --animate-sparkle: sparkle 1.5s ease-in-out infinite;

  --animate-celebrate: celebrate 0.6s ease-out forwards;
  --animate-fade-in: fade-in 0.3s ease-out forwards;
  --animate-shake: shake 0.4s ease-in-out;
  --animate-pulse-slow: pulse-slow 3s ease-in-out infinite;
  --animate-glow: glow 2s ease-in-out infinite;
  --animate-wobble: oops-wobble 0.5s ease-out;

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
  }

  @keyframes sparkle {
    0%, 100% { opacity: 1; filter: brightness(1); }
    50% { opacity: 0.8; filter: brightness(1.3); }
  }


  @keyframes celebrate {
    0% { transform: scale(0.8) rotate(-5deg); opacity: 0; }
    50% { transform: scale(1.1) rotate(3deg); }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-4px); }
    40%, 80% { transform: translateX(4px); }
  }

  @keyframes pulse-slow {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
  }

  @keyframes glow {
    0%, 100% { box-shadow: 0 0 10px rgba(227,193,111,0.2); }
    50% { box-shadow: 0 0 25px rgba(227,193,111,0.5); }
  }

  @keyframes slide-down {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  --animate-slide-down: slide-down 0.5s ease-out forwards;
}

body {
  font-family: var(--font-sans);
  min-height: 100vh;
}

/* --- Biomes — Fonds atmosphériques clairs par livre --- */

.biome-parchment {
  background:
    radial-gradient(ellipse at 50% 30%, rgba(250,240,213,0.3) 0%, transparent 60%),
    linear-gradient(180deg, #f5f0e3 0%, #ede7d9 50%, #f5f0e3 100%);
}

.biome-home {
  background:
    radial-gradient(ellipse at 50% 30%, rgba(143,177,233,0.15) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 80%, rgba(227,193,111,0.1) 0%, transparent 50%),
    linear-gradient(180deg, #f0f6fe 0%, #edeef1 50%, #f7f8f9 100%);
}

.biome-jardin {
  background:
    radial-gradient(ellipse at 30% 70%, rgba(133,222,178,0.2) 0%, transparent 50%),
    radial-gradient(ellipse at 70% 30%, rgba(79,196,142,0.12) 0%, transparent 40%),
    linear-gradient(180deg, #f0faf5 0%, #d6f3e5 40%, #f0faf5 100%);
}

.biome-fondations {
  background:
    radial-gradient(ellipse at 40% 30%, rgba(143,177,233,0.2) 0%, transparent 50%),
    radial-gradient(ellipse at 60% 80%, rgba(99,108,126,0.08) 0%, transparent 40%),
    linear-gradient(180deg, #f0f6fe 0%, #ddeafc 35%, #f7f8f9 100%);
}

.biome-clairiere {
  background:
    radial-gradient(ellipse at 25% 60%, rgba(106,130,82,0.12) 0%, transparent 50%),
    radial-gradient(ellipse at 75% 40%, rgba(133,222,178,0.1) 0%, transparent 45%),
    linear-gradient(180deg, #f4f7ef 0%, #e5ecda 40%, #f7f8f9 100%);
}

.biome-futur {
  background:
    radial-gradient(ellipse at 50% 85%, rgba(227,193,111,0.2) 0%, transparent 50%),
    radial-gradient(ellipse at 30% 50%, rgba(212,166,74,0.1) 0%, transparent 50%),
    linear-gradient(180deg, #fdf9ef 0%, #faf0d5 40%, #f7f8f9 100%);
}

.biome-brumes {
  background:
    radial-gradient(ellipse at 40% 50%, rgba(143,177,233,0.15) 0%, transparent 50%),
    radial-gradient(ellipse at 60% 70%, rgba(182,187,197,0.1) 0%, transparent 45%),
    linear-gradient(180deg, #f0f6fe 0%, #edeef1 40%, #d8dbe0 70%, #f7f8f9 100%);
}

.biome-flux {
  background:
    radial-gradient(ellipse at 20% 30%, rgba(227,193,111,0.12) 0%, transparent 40%),
    radial-gradient(ellipse at 80% 70%, rgba(133,222,178,0.1) 0%, transparent 40%),
    radial-gradient(ellipse at 50% 50%, rgba(143,177,233,0.12) 0%, transparent 50%),
    linear-gradient(180deg, #f0f6fe 0%, #fdf9ef 30%, #f0faf5 55%, #f7f8f9 100%);
}

/* --- Célébration bonne réponse --- */

@keyframes celebration-ring {
  from { transform: scale(0.5); opacity: 1; border-width: 3px; }
  to { transform: scale(2.2); opacity: 0; border-width: 1px; }
}

@keyframes success-ring {
  from { transform: scale(0.5); opacity: 1; border-width: 3px; }
  to { transform: scale(2.2); opacity: 0; border-width: 1px; }
}

@keyframes celebration-particle {
  from {
    transform: translate(-50%, -50%) translate(0px, 0px) scale(1);
    opacity: 1;
  }
  to {
    transform: translate(-50%, -50%) translate(var(--dx), var(--dy)) scale(0);
    opacity: 0;
  }
}

/* --- Wobble doux — Encouragement erreur --- */

@keyframes oops-wobble {
  0% { transform: rotate(0deg); }
  15% { transform: rotate(-3deg) scale(1.02); }
  30% { transform: rotate(2deg); }
  45% { transform: rotate(-2deg); }
  60% { transform: rotate(1deg); }
  75% { transform: rotate(-0.5deg); }
  100% { transform: rotate(0deg) scale(1); }
}

/* --- Texture cahier d'école — Lignes Seyes --- */
.texture-notebook {
  position: relative;
}

.texture-notebook::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 7px,
      rgba(90, 143, 212, 0.15) 7px,
      rgba(90, 143, 212, 0.15) 8px,
      transparent 8px,
      transparent 15px,
      rgba(90, 143, 212, 0.08) 15px,
      rgba(90, 143, 212, 0.08) 16px,
      transparent 16px,
      transparent 23px,
      rgba(90, 143, 212, 0.08) 23px,
      rgba(90, 143, 212, 0.08) 24px,
      transparent 24px,
      transparent 31px,
      rgba(90, 143, 212, 0.2) 31px,
      rgba(90, 143, 212, 0.2) 32px
    );
  pointer-events: none;
  border-radius: inherit;
}

/* --- Accessibilité — Désactivation animations continues --- */

@media (prefers-reduced-motion: reduce) {
  .biome-parchment,
  .biome-home,
  .biome-jardin,
  .biome-fondations,
  .biome-clairiere,
  .biome-futur,
  .biome-brumes,
  .biome-flux {
    background: linear-gradient(180deg, #f0f6fe 0%, #edeef1 50%, #f7f8f9 100%);
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
